(window.webpackJsonp=window.webpackJsonp||[]).push([["vendors-gifMakerFinalize-mobileGifMaker"],{"//3U":function(t,e,r){"use strict";var i=r("6ayh"),o=r("oNNP"),n=i("%TypeError%");t.exports=function(t,e){if("Object"!==t.Type(e))return!1;var r={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var i in e)if(o(e,i)&&!r[i])return!1;if(t.IsDataDescriptor(e)&&t.IsAccessorDescriptor(e))throw new n("Property Descriptors may not be both accessor and data descriptors");return!0}},"0CSc":function(t,e,r){"use strict";var i=r("IdCN"),o=Object.prototype.toString,n=Object.prototype.hasOwnProperty,a=function(t,e,r){for(var i=0,o=t.length;i<o;i++)n.call(t,i)&&(null==r?e(t[i],i,t):e.call(r,t[i],i,t))},s=function(t,e,r){for(var i=0,o=t.length;i<o;i++)null==r?e(t.charAt(i),i,t):e.call(r,t.charAt(i),i,t)},u=function(t,e,r){for(var i in t)n.call(t,i)&&(null==r?e(t[i],i,t):e.call(r,t[i],i,t))};t.exports=function(t,e,r){if(!i(e))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=r),"[object Array]"===o.call(t)?a(t,e,n):"string"==typeof t?s(t,e,n):u(t,e,n)}},"4WeC":function(t,e,r){var i=r("g4R6"),o=r("Sxd8"),n=4294967295;t.exports=function(t){return t?i(o(t),0,n):0}},"6ayh":function(t,e,r){"use strict";var i=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,n=Object.getPrototypeOf||function(t){return t.__proto__},a=void 0,s="undefined"==typeof Uint8Array?void 0:n(Uint8Array),u={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":o?n([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":a&&o&&Symbol.asyncIterator?a[Symbol.asyncIterator]():void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":o?n(n([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&o?n((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&o?n((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":o?n(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":o?Symbol:void 0,"$ %SymbolPrototype%":o?Symbol.prototype:void 0,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":i,"$ %TypedArray%":s,"$ %TypedArrayPrototype%":s?s.prototype:void 0,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype};t.exports=function(t,e){if(arguments.length>1&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');var r="$ "+t;if(!(r in u))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===u[r]&&!e)throw new TypeError("intrinsic "+t+" exists, but is not available. Please file an issue!");return u[r]}},"6bNy":function(t,e,r){(function(e){var r;r="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=r}).call(this,r("yLpj"))},"7sdD":function(t,e,r){"use strict";var i=r("6bNy"),o=r("g2LC"),n=r("ZESv"),a=r("U6jy");function s(t,e,r){var i=t;return o(e)?(r=e,"string"==typeof t&&(i={uri:t})):i=a(e,{uri:t}),i.callback=r,i}function u(t,e,r){return l(e=s(t,e,r))}function l(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,r=function(r,i,o){e||(e=!0,t.callback(r,i,o))};function i(){var t=void 0;if(t=f.response?f.response:f.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(t){}return null}(f),g)try{t=JSON.parse(t)}catch(t){}return t}function o(t){return clearTimeout(h),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,r(t,m)}function a(){if(!l){var e;clearTimeout(h),e=t.useXDR&&void 0===f.status?200:1223===f.status?204:f.status;var o=m,a=null;return 0!==e?(o={body:i(),statusCode:e,method:p,headers:{},url:c,rawRequest:f},f.getAllResponseHeaders&&(o.headers=n(f.getAllResponseHeaders()))):a=new Error("Internal XMLHttpRequest Error"),r(a,o,o.body)}}var s,l,f=t.xhr||null;f||(f=t.cors||t.useXDR?new u.XDomainRequest:new u.XMLHttpRequest);var h,c=f.url=t.uri||t.url,p=f.method=t.method||"GET",d=t.body||t.data,y=f.headers=t.headers||{},v=!!t.sync,g=!1,m={body:void 0,headers:{},statusCode:0,method:p,url:c,rawRequest:f};if("json"in t&&!1!==t.json&&(g=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),d=JSON.stringify(!0===t.json?d:t.json))),f.onreadystatechange=function(){4===f.readyState&&setTimeout(a,0)},f.onload=a,f.onerror=o,f.onprogress=function(){},f.onabort=function(){l=!0},f.ontimeout=o,f.open(p,c,!v,t.username,t.password),v||(f.withCredentials=!!t.withCredentials),!v&&t.timeout>0&&(h=setTimeout((function(){if(!l){l=!0,f.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",o(t)}}),t.timeout)),f.setRequestHeader)for(s in y)y.hasOwnProperty(s)&&f.setRequestHeader(s,y[s]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(f.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(f),f.send(d||null),f}t.exports=u,t.exports.default=u,u.XMLHttpRequest=i.XMLHttpRequest||function(){},u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:i.XDomainRequest,function(t,e){for(var r=0;r<t.length;r++)e(t[r])}(["get","put","post","patch","head","delete"],(function(t){u["delete"===t?"del":t]=function(e,r,i){return(r=s(e,r,i)).method=t.toUpperCase(),l(r)}}))},DwGB:function(t,e,r){"use strict";var i=r("6ayh"),o=i("%Object%"),n=i("%TypeError%"),a=i("%String%"),s=i("%Number%"),u=r("xG2L"),l=r("//3U"),f=r("IFfy"),h=r("xhJ2"),c=r("WXWk"),p=r("u1Mj"),d=r("IdCN"),y=r("Lxf3"),v=r("oNNP"),g=r("RLeF")(a.prototype.slice),m=function(t,e){return t===e||!(t.length>e.length)&&g(e,0,t.length)===t},E={ToPrimitive:y,ToBoolean:function(t){return!!t},ToNumber:function(t){return+t},ToInteger:function(t){var e=this.ToNumber(t);return f(e)?0:0!==e&&h(e)?c(e)*Math.floor(Math.abs(e)):e},ToInt32:function(t){return this.ToNumber(t)>>0},ToUint32:function(t){return this.ToNumber(t)>>>0},ToUint16:function(t){var e=this.ToNumber(t);if(f(e)||0===e||!h(e))return 0;var r=c(e)*Math.floor(Math.abs(e));return p(r,65536)},ToString:function(t){return a(t)},ToObject:function(t){return this.CheckObjectCoercible(t),o(t)},CheckObjectCoercible:function(t,e){if(null==t)throw new n(e||"Cannot call method on "+t);return t},IsCallable:d,SameValue:function(t,e){return t===e?0!==t||1/t==1/e:f(t)&&f(e)},Type:function(t){return null===t?"Null":void 0===t?"Undefined":"function"==typeof t||"object"==typeof t?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0},IsPropertyDescriptor:function(t){return l(this,t)},IsAccessorDescriptor:function(t){return void 0!==t&&(u(this,"Property Descriptor","Desc",t),!(!v(t,"[[Get]]")&&!v(t,"[[Set]]")))},IsDataDescriptor:function(t){return void 0!==t&&(u(this,"Property Descriptor","Desc",t),!(!v(t,"[[Value]]")&&!v(t,"[[Writable]]")))},IsGenericDescriptor:function(t){return void 0!==t&&(u(this,"Property Descriptor","Desc",t),!this.IsAccessorDescriptor(t)&&!this.IsDataDescriptor(t))},FromPropertyDescriptor:function(t){if(void 0===t)return t;if(u(this,"Property Descriptor","Desc",t),this.IsDataDescriptor(t))return{value:t["[[Value]]"],writable:!!t["[[Writable]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};if(this.IsAccessorDescriptor(t))return{get:t["[[Get]]"],set:t["[[Set]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};throw new n("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(t){if("Object"!==this.Type(t))throw new n("ToPropertyDescriptor requires an object");var e={};if(v(t,"enumerable")&&(e["[[Enumerable]]"]=this.ToBoolean(t.enumerable)),v(t,"configurable")&&(e["[[Configurable]]"]=this.ToBoolean(t.configurable)),v(t,"value")&&(e["[[Value]]"]=t.value),v(t,"writable")&&(e["[[Writable]]"]=this.ToBoolean(t.writable)),v(t,"get")){var r=t.get;if(void 0!==r&&!this.IsCallable(r))throw new TypeError("getter must be a function");e["[[Get]]"]=r}if(v(t,"set")){var i=t.set;if(void 0!==i&&!this.IsCallable(i))throw new n("setter must be a function");e["[[Set]]"]=i}if((v(e,"[[Get]]")||v(e,"[[Set]]"))&&(v(e,"[[Value]]")||v(e,"[[Writable]]")))throw new n("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return e},"Abstract Equality Comparison":function(t,e){var r=this.Type(t),i=this.Type(e);return r===i?t===e:null==t&&null==e||("Number"===r&&"String"===i?this["Abstract Equality Comparison"](t,this.ToNumber(e)):"String"===r&&"Number"===i?this["Abstract Equality Comparison"](this.ToNumber(t),e):"Boolean"===r?this["Abstract Equality Comparison"](this.ToNumber(t),e):"Boolean"===i?this["Abstract Equality Comparison"](t,this.ToNumber(e)):"String"!==r&&"Number"!==r||"Object"!==i?"Object"===r&&("String"===i||"Number"===i)&&this["Abstract Equality Comparison"](this.ToPrimitive(t),e):this["Abstract Equality Comparison"](t,this.ToPrimitive(e)))},"Strict Equality Comparison":function(t,e){var r=this.Type(t);return r===this.Type(e)&&("Undefined"===r||"Null"===r||t===e)},"Abstract Relational Comparison":function(t,e,r){if("Boolean"!==this.Type(r))throw new n("Assertion failed: LeftFirst argument must be a Boolean");var i,o;if(r?(i=this.ToPrimitive(t,s),o=this.ToPrimitive(e,s)):(o=this.ToPrimitive(e,s),i=this.ToPrimitive(t,s)),!("String"===this.Type(i)&&"String"===this.Type(o))){var a=this.ToNumber(i),u=this.ToNumber(o);if(f(a)||f(u))return;return(!h(a)||!h(u)||a!==u)&&((0!==a||0!==u)&&(a!==1/0&&(u===1/0||u!==-1/0&&(a===-1/0||a<u))))}return!m(o,i)&&(!!m(i,o)||i<o)}};t.exports=E},"G3+v":function(t,e,r){"use strict";var i=r("Vi6U");t.exports=function(){return String.prototype.trim&&"​"==="​".trim()?String.prototype.trim:i}},IFfy:function(t,e,r){"use strict";t.exports=Number.isNaN||function(t){return t!=t}},IdCN:function(t,e,r){"use strict";var i=Function.prototype.toString,o=/^\s*class\b/,n=function(t){try{var e=i.call(t);return o.test(e)}catch(t){return!1}},a=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(s)return function(t){try{return!n(t)&&(i.call(t),!0)}catch(t){return!1}}(t);if(n(t))return!1;var e=a.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e}},Lxf3:function(t,e,r){"use strict";var i=Object.prototype.toString,o=r("Teho"),n=r("IdCN"),a=function(t){var e;if((e=arguments.length>1?arguments[1]:"[object Date]"===i.call(t)?String:Number)===String||e===Number){var r,a,s=e===String?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(n(t[s[a]])&&(r=t[s[a]](),o(r)))return r;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")};t.exports=function(t){return o(t)?t:arguments.length>1?a(t,arguments[1]):a(t)}},RLeF:function(t,e,r){"use strict";var i=r("D3zA"),o=r("6ayh")("%Function%"),n=o.apply,a=o.call;t.exports=function(){return i.apply(a,arguments)},t.exports.apply=function(){return i.apply(n,arguments)}},Teho:function(t,e){t.exports=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t}},U6jy:function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var i=arguments[e];for(var o in i)r.call(i,o)&&(t[o]=i[o])}return t};var r=Object.prototype.hasOwnProperty},Vi6U:function(t,e,r){"use strict";var i=r("D3zA"),o=r("DwGB"),n=i.call(Function.call,String.prototype.replace),a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,s=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;t.exports=function(){var t=o.ToString(o.CheckObjectCoercible(this));return n(n(t,a,""),s,"")}},WXWk:function(t,e,r){"use strict";t.exports=function(t){return t>=0?1:-1}},ZESv:function(t,e,r){var i=r("yp9T"),o=r("0CSc");t.exports=function(t){if(!t)return{};var e={};return o(i(t).split("\n"),(function(t){var r,o=t.indexOf(":"),n=i(t.slice(0,o)).toLowerCase(),a=i(t.slice(o+1));void 0===e[n]?e[n]=a:(r=e[n],"[object Array]"===Object.prototype.toString.call(r)?e[n].push(a):e[n]=[e[n],a])})),e}},bLQk:function(t,e,r){"use strict";var i=r("7sdD"),o=r.n(i),n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=(function(){function t(t){this.value=t}function e(e){var r,i;function o(r,i){try{var a=e[r](i),s=a.value;s instanceof t?Promise.resolve(s.value).then((function(t){o("next",t)}),(function(t){o("throw",t)})):n(a.done?"return":"normal",a.value)}catch(t){n("throw",t)}}function n(t,e){switch(t){case"return":r.resolve({value:e,done:!0});break;case"throw":r.reject(e);break;default:r.resolve({value:e,done:!1})}(r=r.next)?o(r.key,r.arg):i=null}this._invoke=function(t,e){return new Promise((function(n,a){var s={key:t,arg:e,resolve:n,reject:a,next:null};i?i=i.next=s:(r=i=s,o(t,e))}))},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),s=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),u=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)};function l(t){return 0==(t&t-1)}function f(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function h(t,e){return!(!t||!e)&&t.toString()!==e.toString()}function c(t){var e=new Set;return Object.assign(t,{on:function(t,r){var i={};i[t]=r,e.add(i)},off:function(t,r){if(r){var i={};i[t]=r,e.delete(i)}else{var o=!0,n=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var l=s.value,f=!0,h=!1,c=void 0;try{for(var p,d=Object.keys(l)[Symbol.iterator]();!(f=(p=d.next()).done);f=!0){if(p.value===t)return void e.delete(l)}}catch(t){h=!0,c=t}finally{try{!f&&d.return&&d.return()}finally{if(h)throw c}}}}catch(t){n=!0,a=t}finally{try{!o&&u.return&&u.return()}finally{if(n)throw a}}}},listSubscriptions:function(){var t=!0,r=!1,i=void 0;try{for(var o,n=e[Symbol.iterator]();!(t=(o=n.next()).done);t=!0){var a=o.value;console.log(a)}}catch(t){r=!0,i=t}finally{try{!t&&n.return&&n.return()}finally{if(r)throw i}}},subscribe:function(t){e.add(t)},unsubscribe:function(t){e.delete(t)},unsubscribeAll:function(){e.clear()},trigger:function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var n=!0,a=!1,s=void 0;try{for(var l,f=e[Symbol.iterator]();!(n=(l=f.next()).done);n=!0){var h=l.value;"function"==typeof h[t]&&h[t].apply(h,u(i))}}catch(t){a=!0,s=t}finally{try{!n&&f.return&&f.return()}finally{if(a)throw s}}}})}var p=function(){function t(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a(this,t),c(this),this.gl=e,this.texture=e.createTexture(),this.texture&&(this.valid=!0),this.bind(),this.name=r,this.source=null,this.sourceType=null,this.loading=null,this.setData(1,1,new Uint8Array([0,0,0,255]),{filtering:"linear"}),this.setFiltering(i.filtering),this.load(i)}return s(t,[{key:"destroy",value:function(){this.valid&&(this.gl.deleteTexture(this.texture),this.texture=null,delete this.data,this.data=null,this.valid=!1)}},{key:"bind",value:function(e){this.valid&&("number"==typeof e&&t.activeUnit!==e&&(this.gl.activeTexture(this.gl.TEXTURE0+e),t.activeUnit=e),t.activeTexture!==this.texture&&(this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),t.activeTexture=this.texture))}},{key:"load",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading=null,"string"==typeof t.url?void 0!==this.url&&t.url===this.url||this.setUrl(t.url,t):t.element?this.setElement(t.element,t):t.data&&t.width&&t.height&&this.setData(t.width,t.height,t.data,t)}},{key:"setUrl",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.valid)return this.url=t,this.source=this.url,this.sourceType="url",this.loading=new Promise((function(i,o){var n=t.split(".").pop().toLowerCase(),a="ogv"===n||"webm"===n||"mp4"===n,s=void 0;a?((s=document.createElement("video")).autoplay=!0,r.filtering="nearest"):s=new Image,s.onload=function(){try{e.setElement(s,r)}catch(t){console.log("Texture '"+e.name+"': failed to load url: '"+e.source+"'",t,r)}i(e)},s.onerror=function(t){console.log("Texture '"+e.name+"': failed to load url: '"+e.source+"'",t,r),i(e)},f()&&"data:"===e.source.slice(0,5)||(s.crossOrigin="anonymous"),s.src=e.source,a&&e.setElement(s,r)})),this.loading}},{key:"setData",value:function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.width=t,this.height=e,this.source=r,this.sourceType="data",this.update(i),this.setFiltering(i),this.loading=Promise.resolve(this),this.loading}},{key:"setElement",value:function(t,e){var r=this,i=t;if("string"==typeof t&&(t=document.querySelector(t)),t instanceof HTMLCanvasElement||t instanceof HTMLImageElement||t instanceof HTMLVideoElement)this.source=t,this.sourceType="element",t instanceof HTMLVideoElement?(t.addEventListener("canplaythrough",(function(){r.intervalID=setInterval((function(){r.update(e)}),15)}),!0),t.addEventListener("ended",(function(){t.currentTime=0,t.play()}),!0)):this.update(e),this.setFiltering(e);else{var o="the 'element' parameter (`element: "+JSON.stringify(i)+"`) must be a CSS ";o+="selector string, or a <canvas>, <image> or <video> object",console.log("Texture '"+this.name+"': "+o,e)}return this.loading=Promise.resolve(this),this.loading}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.valid&&(this.bind(),this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1!==t.UNPACK_FLIP_Y_WEBGL),this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.UNPACK_PREMULTIPLY_ALPHA_WEBGL||!1),"element"===this.sourceType&&(this.source instanceof HTMLCanvasElement||this.source instanceof HTMLVideoElement||this.source instanceof HTMLImageElement&&this.source.complete)?(this.source instanceof HTMLVideoElement?(this.width=this.source.videoWidth,this.height=this.source.videoHeight):(this.width=this.source.width,this.height=this.source.height),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.source)):"data"===this.sourceType&&this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.width,this.height,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.source),this.trigger("loaded",this))}},{key:"setFiltering",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.valid){this.powerOf2=l(this.width)&&l(this.height);var e=this.powerOf2?"mipmap":"linear";this.filtering=t.filtering||e;var r=this.gl;this.bind(),this.powerOf2?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t.TEXTURE_WRAP_S||t.repeat&&r.REPEAT||r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t.TEXTURE_WRAP_T||t.repeat&&r.REPEAT||r.CLAMP_TO_EDGE),"mipmap"===this.filtering?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR_MIPMAP_LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.generateMipmap(r.TEXTURE_2D)):"linear"===this.filtering?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR)):"nearest"===this.filtering&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST))):(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),"mipmap"===this.filtering&&(this.filtering="linear"),"nearest"===this.filtering?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST)):(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR)))}}}]),t}();p.getMaxTextureSize=function(t){return t.getParameter(t.MAX_TEXTURE_SIZE)},p.activeUnit=-1;var d="";var y='\n\tThis page requires a browser that supports WebGL.<br/>\n\t<a href="http://get.webgl.org">Click here to upgrade your browser.</a>\n',v='\n\tIt does not appear your computer can support WebGL.<br/>\n\t<a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>\n',g=1,m=2;function E(t,e,r){function i(e,i){var o,n;"function"==typeof r?r(e):(o=i,(n=t.parentNode)&&(n.innerHTML='\n<table style="background-color: #8CE; width: 100%; height: 100%;"><tr>\n<td align="center">\n<div style="display: table-cell; vertical-align: middle;">\n<div style="">'+o+"</div>\n</div>\n</td></tr></table>\n"))}if(!window.WebGLRenderingContext)return i(g,y),null;var o=function(t,e){for(var r=["webgl","experimental-webgl"],i=null,o=0;o<r.length;++o)try{i=t.getContext(r[o],e)}catch(t){if(i)break}return i}(t,e);return o?o.getExtension("OES_standard_derivatives"):i(m,v),o}function T(t,e,r,i){var o=t.gl,n=o.createShader(r);return o.shaderSource(n,e),o.compileShader(n),o.getShaderParameter(n,o.COMPILE_STATUS)?n:(d=o.getShaderInfoLog(n),console.error("*** Error compiling shader "+n+":"+d),t.trigger("error",{shader:n,source:e,type:r,error:d,offset:i||0}),o.deleteShader(n),null)}function b(t,e,r,i){for(var o=t.gl,n=o.createProgram(),a=0;a<e.length;++a)o.attachShader(n,e[a]);if(r)for(var s=0;s<r.length;++s)o.bindAttribLocation(n,i?i[s]:s,r[s]);return o.linkProgram(n),o.getProgramParameter(n,o.LINK_STATUS)?n:(d=o.getProgramInfoLog(n),console.log("Error in program linking:"+d),o.deleteProgram(n),null)}var A=function(){function t(e,r,i){var n=this;a(this,t),c(this),r=r||{},i=i||{},this.width=e.clientWidth,this.height=e.clientHeight,this.canvas=e,this.gl=void 0,this.program=void 0,this.textures={},this.buffers={},this.uniforms={},this.vbo={},this.isValid=!1,this.BUFFER_COUNT=0,this.TEXTURE_COUNT=0,this.vertexString=r.vertexString||"\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec2 a_position;\nattribute vec2 a_texcoord;\n\nvarying vec2 v_texcoord;\n\nvoid main() {\n    gl_Position = vec4(a_position, 0.0, 1.0);\n    v_texcoord = a_texcoord;\n}\n",this.fragmentString=r.fragmentString||"\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nvarying vec2 v_texcoord;\n\nvoid main(){\n    gl_FragColor = vec4(0.0);\n}\n";var s=E(e,r,i.onError);if(s){if(this.gl=s,this.timeLoad=this.timePrev=performance.now(),this.timeDelta=0,this.forceRender=!0,this.paused=!1,e.style.backgroundColor=r.backgroundColor||"rgba(1,1,1,0)",e.hasAttribute("data-fragment"))this.fragmentString=e.getAttribute("data-fragment");else if(e.hasAttribute("data-fragment-url")){var u=e.getAttribute("data-fragment-url");o.a.get(u,(function(t,e,r){n.load(r,n.vertexString)}))}if(e.hasAttribute("data-vertex"))this.vertexString=e.getAttribute("data-vertex");else if(e.hasAttribute("data-vertex-url")){var l=e.getAttribute("data-vertex-url");o.a.get(l,(function(t,e,r){n.load(n.fragmentString,r)}))}if(this.load(),this.program){var f=s.getAttribLocation(this.program,"a_texcoord");this.vbo.texCoords=s.createBuffer(),this.gl.bindBuffer(s.ARRAY_BUFFER,this.vbo.texCoords),this.gl.bufferData(s.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),s.STATIC_DRAW),this.gl.enableVertexAttribArray(f),this.gl.vertexAttribPointer(f,2,s.FLOAT,!1,0,0);var h=s.getAttribLocation(this.program,"a_position");if(this.vbo.vertices=s.createBuffer(),this.gl.bindBuffer(s.ARRAY_BUFFER,this.vbo.vertices),this.gl.bufferData(s.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),s.STATIC_DRAW),this.gl.enableVertexAttribArray(h),this.gl.vertexAttribPointer(h,2,s.FLOAT,!1,0,0),e.hasAttribute("data-textures")){var p=e.getAttribute("data-textures").split(",");for(var d in p)this.setUniform("u_tex"+d,p[d])}var y={x:0,y:0};document.addEventListener("mousemove",(function(t){y.x=t.clientX||t.pageX,y.y=t.clientY||t.pageY}),!1);var v=this;return this.setMouse({x:0,y:0}),function t(){v.nMouse>1&&v.setMouse(y),v.forceRender=v.resize(),v.render(),window.requestAnimationFrame(t)}(),this}}}return s(t,[{key:"destroy",value:function(){for(var t in this.animated=!1,this.isValid=!1,this.textures)t.destroy&&t.destroy();for(var e in this.textures={},this.attribs)this.gl.deleteBuffer(this.attribs[e]);for(var r in this.gl.useProgram(null),this.gl.deleteProgram(this.program),this.buffers){var i=this.buffers[r];this.gl.deleteProgram(i.program)}this.program=null,this.gl=null}},{key:"load",value:function(t,e){if(e&&(this.vertexString=e),t&&(this.fragmentString=t),this.animated=!1,this.nDelta=(this.fragmentString.match(/u_delta/g)||[]).length,this.nTime=(this.fragmentString.match(/u_time/g)||[]).length,this.nDate=(this.fragmentString.match(/u_date/g)||[]).length,this.nMouse=(this.fragmentString.match(/u_mouse/g)||[]).length,this.animated=this.nDate>1||this.nTime>1||this.nMouse>1,this.fragmentString.search(/sampler2D/g))for(var r=this.fragmentString.split("\n"),i=0;i<r.length;i++){var o=r[i].match(/uniform\s*sampler2D\s*([\w]*);\s*\/\/\s*([\w|\:\/\/|\.|\-|\_]*)/i);if(o){var n=o[2].split(".").pop().toLowerCase();o[1]&&o[2]&&("jpg"===n||"jpeg"===n||"png"===n||"ogv"===n||"webm"===n||"mp4"===n)&&this.setUniform(o[1],o[2])}if(r[i].match(/\s*void\s*main\s*/g))break}var a=T(this,this.vertexString,this.gl.VERTEX_SHADER),s=T(this,this.fragmentString,this.gl.FRAGMENT_SHADER);s?this.isValid=!0:(s=T(this,"void main(){\n\tgl_FragColor = vec4(1.0);\n}",this.gl.FRAGMENT_SHADER),this.isValid=!1);var u=b(this,[a,s]);this.gl.useProgram(u),this.gl.deleteShader(a),this.gl.deleteShader(s),this.program=u,this.change=!0;var l=this.getBuffers(this.fragmentString);Object.keys(l).length&&this.loadPrograms(l),this.buffers=l,this.trigger("load",{}),this.forceRender=!0}},{key:"test",value:function(t,e,r){var i=this.vertexString,o=this.fragmentString,n=this.paused,a=this.gl.getExtension("EXT_disjoint_timer_query"),s=a.createQueryEXT(),u=this.isValid;(e||r)&&(this.load(e,r),u=this.isValid,this.forceRender=!0,this.render()),this.paused=!0,a.beginQueryEXT(a.TIME_ELAPSED_EXT,s),this.forceRender=!0,this.render(),a.endQueryEXT(a.TIME_ELAPSED_EXT);var l=this;!function f(){l.forceRender=!0,l.render();var h=a.getQueryObjectEXT(s,a.QUERY_RESULT_AVAILABLE_EXT),c=l.gl.getParameter(a.GPU_DISJOINT_EXT);if(h&&!c){var p={wasValid:u,frag:e||l.fragmentString,vert:r||l.vertexString,timeElapsedMs:a.getQueryObjectEXT(s,a.QUERY_RESULT_EXT)/1e6};l.paused=n,(e||r)&&l.load(o,i),t(p)}else window.requestAnimationFrame(f)}()}},{key:"loadTexture",value:function(t,e,r){var i=this;r||(r={}),"string"==typeof e?r.url=e:"object"===(void 0===e?"undefined":n(e))&&e.data&&e.width&&e.height?(r.data=e.data,r.width=e.width,r.height=e.height):"object"===(void 0===e?"undefined":n(e))&&(r.element=e),this.textures[t]?this.textures[t]&&(this.textures[t].load(r),this.textures[t].on("loaded",(function(t){i.forceRender=!0}))):(this.textures[t]=new p(this.gl,t,r),this.textures[t].on("loaded",(function(t){i.forceRender=!0})))}},{key:"refreshUniforms",value:function(){this.uniforms={}}},{key:"setUniform",value:function(t){for(var e={},r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];e[t]=i,this.setUniforms(e)}},{key:"setUniforms",value:function(t){var e=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=[];for(var o in e){var a=e[o],s=void 0;if(r&&(o=r+"."+o),"number"==typeof a)i.push({type:"float",method:"1f",name:o,value:a});else if(Array.isArray(a)){if("number"==typeof a[0])1===a.length?i.push({type:"float",method:"1f",name:o,value:a}):a.length>=2&&a.length<=4?i.push({type:"vec"+a.length,method:a.length+"fv",name:o,value:a}):a.length>4&&i.push({type:"float[]",method:"1fv",name:o+"[0]",value:a});else if("string"==typeof a[0])i.push({type:"sampler2D",method:"1i",name:o,value:a});else if(Array.isArray(a[0])&&"number"==typeof a[0][0]){if(a[0].length>=2&&a[0].length<=4)for(s=0;s<a.length;s++)i.push({type:"vec"+a[0].length,method:a[s].length+"fv",name:o+"["+s+"]",value:a[s]})}else if("object"===n(a[0]))for(s=0;s<a.length;s++)i.push.apply(i,u(t(a[s],o+"["+s+"]")))}else"boolean"==typeof a?i.push({type:"bool",method:"1i",name:o,value:a}):"string"==typeof a?i.push({type:"sampler2D",method:"1i",name:o,value:a}):"object"===(void 0===a?"undefined":n(a))&&i.push.apply(i,u(t(a,o)))}return i}(t);for(var r in e)"sampler2D"===e[r].type?this.loadTexture(e[r].name,e[r].value[0]):(this.uniform(e[r].method,e[r].type,e[r].name,e[r].value),this.forceRender=!0)}},{key:"setMouse",value:function(t){var e=this.canvas.getBoundingClientRect();if(t&&t.x&&t.x>=e.left&&t.x<=e.right&&t.y&&t.y>=e.top&&t.y<=e.bottom){for(var r in this.buffers){var i=this.buffers[r];this.gl.useProgram(i.program),this.gl.uniform2f(this.gl.getUniformLocation(i.program,"u_mouse"),t.x-e.left,this.canvas.height-(t.y-e.top))}this.gl.useProgram(this.program),this.gl.uniform2f(this.gl.getUniformLocation(this.program,"u_mouse"),t.x-e.left,this.canvas.height-(t.y-e.top))}}},{key:"uniform",value:function(t,e,r){this.uniforms[r]=this.uniforms[r]||{};for(var i=this.uniforms[r],o=arguments.length,n=Array(o>3?o-3:0),a=3;a<o;a++)n[a-3]=arguments[a];var s=h(i.value,n);(s||this.change||void 0===i.location||void 0===i.value)&&(i.name=r,i.value=n,i.type=e,i.method="uniform"+t,i.location=this.gl.getUniformLocation(this.program,r),this.gl[i.method].apply(this.gl,[i.location].concat(i.value)))}},{key:"uniformTexture",value:function(t,e,r){if(void 0!==this.textures[t])return!0;this.loadTexture(t,e,r)}},{key:"resize",value:function(){if(this.width!==this.canvas.clientWidth||this.height!==this.canvas.clientHeight){var t=window.devicePixelRatio||1,e=Math.floor(this.gl.canvas.clientWidth*t),r=Math.floor(this.gl.canvas.clientHeight*t);return this.gl.canvas.width===e&&this.gl.canvas.height===r||(this.gl.canvas.width=e,this.gl.canvas.height=r,this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height)),this.width=this.canvas.clientWidth,this.height=this.canvas.clientHeight,this.resizeSwappableBuffers(),!0}return!1}},{key:"render",value:function(){var t;this.visible=(t=this.canvas).getBoundingClientRect().top+t.height>0&&t.getBoundingClientRect().top<(window.innerHeight||document.documentElement.clientHeight),(this.forceRender||this.animated&&this.visible&&!this.paused)&&(this.renderPrograms(),this.trigger("render",{}),this.change=!1,this.forceRender=!1)}},{key:"pause",value:function(){this.paused=!0}},{key:"play",value:function(){this.paused=!1}},{key:"version",value:function(){return"0.0.27"}},{key:"renderPrograms",value:function(){var t=this.gl,e=t.canvas.width,r=t.canvas.height;for(var i in this.updateVariables(),t.viewport(0,0,e,r),this.buffers){var o=this.buffers[i];this.updateUniforms(o.program,i),o.bundle.render(e,r,o.program,o.name),t.bindFramebuffer(t.FRAMEBUFFER,null)}this.updateUniforms(this.program,"main"),t.drawArrays(t.TRIANGLES,0,6)}},{key:"updateVariables",value:function(){var t=new Date,e=performance.now(),r=this.variables||{};r.prev=r.prev||e,r.delta=(e-r.prev)/1e3,r.prev=e,r.load=this.timeLoad,r.time=(e-this.timeLoad)/1e3,r.year=t.getFullYear(),r.month=t.getMonth(),r.date=t.getDate(),r.daytime=3600*t.getHours()+60*t.getMinutes()+t.getSeconds()+.001*t.getMilliseconds(),this.variables=r}},{key:"updateUniforms",value:function(t,e){var r=this.gl,i=this.variables;for(var o in r.useProgram(t),this.nDelta>1&&r.uniform1f(r.getUniformLocation(t,"u_delta"),i.delta),this.nTime>1&&r.uniform1f(r.getUniformLocation(t,"u_time"),i.time),this.nDate&&r.uniform4f(r.getUniformLocation(t,"u_date"),i.year,i.month,i.date,i.daytime),r.uniform2f(r.getUniformLocation(t,"u_resolution"),this.canvas.width,this.canvas.height),this.buffers){var n=this.buffers[o];r.uniform1i(r.getUniformLocation(t,n.name),n.bundle.input.index)}for(var a in this.TEXTURE_COUNT=this.BUFFER_COUNT,this.textures)if(this.uniformTexture(a,null,{filtering:"mipmap",repeat:!0})){var s=this.textures[a];r.activeTexture(r.TEXTURE0+this.TEXTURE_COUNT),r.bindTexture(r.TEXTURE_2D,s.texture),r.uniform1i(r.getUniformLocation(t,a),this.TEXTURE_COUNT),r.uniform2f(r.getUniformLocation(t,a+"Resolution"),s.width,s.height),this.TEXTURE_COUNT++}}},{key:"getBuffers",value:function(t){var e={};return t&&t.replace(new RegExp("(defined\\s*\\(\\s*BUFFER_)(\\d+)\\s*\\)","g"),(function(r,i,o){e["u_buffer"+o]={fragment:"#define BUFFER_"+o+"\n"+t}})),e}},{key:"loadPrograms",value:function(t){var e=this.gl,r=0,i=T(this,this.vertexString,e.VERTEX_SHADER);for(var o in t){var n=t[o],a=T(this,n.fragment,e.FRAGMENT_SHADER,1);a?this.isValid=!0:(a=T(this,"void main(){\n\tgl_FragColor = vec4(1.0);\n}",e.FRAGMENT_SHADER),this.isValid=!1);var s=b(this,[i,a]);n.name="u_buffer"+r,n.program=s,n.bundle=this.createSwappableBuffer(this.canvas.width,this.canvas.height,s),e.deleteShader(a),r++}e.deleteShader(i)}},{key:"createSwappableBuffer",value:function(t,e,r){var i=this.createBuffer(t,e,r),o=this.createBuffer(t,e,r),n=this.gl;return{input:i,output:o,swap:function(){var t=i;i=o,o=t,this.input=i,this.output=o},render:function(t,e,r,i){n.useProgram(r),n.viewport(0,0,t,e),n.bindFramebuffer(n.FRAMEBUFFER,this.input.buffer),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,this.output.texture,0),n.drawArrays(n.TRIANGLES,0,6),this.swap()},resize:function(t,e,r,i){n.useProgram(r),n.viewport(0,0,t,e),this.input.resize(t,e),this.output.resize(t,e)}}}},{key:"createBuffer",value:function(t,e,r){var i=this.gl,o=this.BUFFER_COUNT;this.BUFFER_COUNT+=2,i.getExtension("OES_texture_float");var n=i.createTexture();i.activeTexture(i.TEXTURE0+o),i.bindTexture(i.TEXTURE_2D,n),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t,e,0,i.RGBA,i.FLOAT,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE);var a=i.createFramebuffer();return{index:o,texture:n,buffer:a,W:t,H:e,resize:function(t,e){i.bindFramebuffer(i.FRAMEBUFFER,a);var r=Math.min(t,this.W),s=Math.min(e,this.H),u=new Float32Array(r*s*4);i.readPixels(0,0,r,s,i.RGBA,i.FLOAT,u),i.bindFramebuffer(i.FRAMEBUFFER,null);var l=o+1,f=i.createTexture();i.activeTexture(i.TEXTURE0+l),i.bindTexture(i.TEXTURE_2D,f),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t,e,0,i.RGBA,i.FLOAT,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,r,s,i.RGBA,i.FLOAT,u);var h=i.createFramebuffer();i.bindFramebuffer(i.FRAMEBUFFER,null),i.deleteTexture(n),i.activeTexture(i.TEXTURE0+o),i.bindTexture(i.TEXTURE_2D,f),o=this.index=o,n=this.texture=f,a=this.buffer=h,this.W=t,this.H=e}}}},{key:"resizeSwappableBuffers",value:function(){var t=this.gl,e=t.canvas.width,r=t.canvas.height;for(var i in t.viewport(0,0,e,r),this.buffers){var o=this.buffers[i];o.bundle.resize(e,r,o.program,o.name)}t.useProgram(this.program)}}]),t}();window.addEventListener("load",(function(){!function(){var t=document.getElementsByClassName("glslCanvas");if(t.length>0){window.glslCanvases=[];for(var e=0;e<t.length;e++){var r=new A(t[e]);r.isValid&&window.glslCanvases.push(r)}}}()})),e.a=A},g2LC:function(t,e){t.exports=function(t){var e=r.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var r=Object.prototype.toString},gvKm:function(t,e,r){var i=r("Sxd8"),o=r("4WeC");t.exports=function(t,e,r,n){var a=t.length;for((r=i(r))<0&&(r=-r>a?0:a+r),(n=void 0===n||n>a?a:i(n))<0&&(n+=a),n=r>n?0:o(n);r<n;)t[r++]=e;return t}},odGD:function(t,e,r){var i=r("gvKm"),o=r("mv/X");t.exports=function(t,e,r,n){var a=null==t?0:t.length;return a?(r&&"number"!=typeof r&&o(t,e,r)&&(r=0,n=a),i(t,e,r,n)):[]}},"s/21":function(t,e,r){"use strict";var i=r("82c2"),o=r("G3+v");t.exports=function(){var t=o();return i(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}},u1Mj:function(t,e,r){"use strict";t.exports=function(t,e){var r=t%e;return Math.floor(r>=0?r:r+e)}},xG2L:function(t,e,r){"use strict";var i=r("6ayh"),o=i("%TypeError%"),n=i("%SyntaxError%"),a=r("oNNP"),s={"Property Descriptor":function(t,e){if("Object"!==t.Type(e))return!1;var r={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var i in e)if(a(e,i)&&!r[i])return!1;var n=a(e,"[[Value]]"),s=a(e,"[[Get]]")||a(e,"[[Set]]");if(n&&s)throw new o("Property Descriptors may not be both accessor and data descriptors");return!0}};t.exports=function(t,e,r,i){var a=s[e];if("function"!=typeof a)throw new n("unknown record type: "+e);if(!a(t,i))throw new o(r+" must be a "+e)}},xhJ2:function(t,e,r){"use strict";var i=Number.isNaN||function(t){return t!=t};t.exports=Number.isFinite||function(t){return"number"==typeof t&&!i(t)&&t!==1/0&&t!==-1/0}},yp9T:function(t,e,r){"use strict";var i=r("D3zA"),o=r("82c2"),n=r("Vi6U"),a=r("G3+v"),s=r("s/21"),u=i.call(Function.call,a());o(u,{getPolyfill:a,implementation:n,shim:s}),t.exports=u}}]);
//# sourceMappingURL=vendors-gifMakerFinalize-mobileGifMaker.90b5ab4e.bundle.js.map